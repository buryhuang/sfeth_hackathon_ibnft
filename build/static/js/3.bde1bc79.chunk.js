(this.webpackJsonpexample=this.webpackJsonpexample||[]).push([[3],{3065:function(t,e,n){"use strict";(function(t){var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r.apply(this,arguments)},i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__read||function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.op_to_kt1=e.pk_to_pkh=e.b58dec=e.b58enc=e.kt1_prefix=e.op_prefix=e.sig_prefix=e.p2sig_prefix=e.spsig1_prefix=e.edsig_prefix=e.p2sk_prefix=e.spsk_prefix=e.edsk_prefix=e.p2pk_prefix=e.sppk_prefix=e.edpk_prefix=e.tz3_prefix=e.tz2_prefix=e.tz1_prefix=e.sign=e.tezos_signed_message_prefix=e.of_hex=e.pack_string=e.to_hex=e.hex_to_uint8array=e.uint8array_to_hex=e.get_transaction=e.send_batch=e.send=e.storage=e.get_public_key=e.get_address=e.asset_of_json=e.asset_to_json=e.asset_type_of_json=e.asset_type_to_json=void 0;var u=n(37),c=n(223),f=n(1178),l=f.TextEncoder,p=f.TextDecoder,d=n(140),_=n(359);function h(t){switch(t.asset_class){case"XTZ":return{assetClass:t.asset_class};case"FT":return{assetClass:t.asset_class,contract:t.contract,tokenId:void 0==t.token_id?void 0:t.token_id.toString()};case"NFT":case"MT":return{assetClass:t.asset_class,contract:t.contract,tokenId:t.token_id.toString()}}}function v(t){switch(t.assetClass){case"XTZ":return{asset_class:t.assetClass};case"FT":return{asset_class:t.assetClass,contract:t.contract,token_id:void 0==t.tokenId?void 0:new u.default(t.tokenId)};case"NFT":case"MT":return{asset_class:t.assetClass,contract:t.contract,token_id:new u.default(t.tokenId)};default:throw new Error("Unknown Asset Class")}}function y(t){return t.reduce((function(t,e){return t+e.toString(16).padStart(2,"0")}),"")}function b(t){for(var e=new Uint8Array(t.length/2),n=0;n<t.length;n+=2)e[n/2]=parseInt(t.substring(n,n+2),16);return e}function g(t){return y((new l).encode(t))}function w(e,n){var r=new Uint8Array(n.length+e.length);return r.set(n),r.set(e,n.length),d.encode(t.from(r.buffer))}function k(t,e){return d.decode(t).slice(e.length)}e.asset_type_to_json=h,e.asset_type_of_json=v,e.asset_to_json=function(t){return{assetType:h(t.asset_type),value:t.value.toString()}},e.asset_of_json=function(t){return{asset_type:v(t.assetType),value:new u.default(t.value)}},e.get_address=function(t){return t.tezos.address()},e.get_public_key=function(t){return t.tezos.public_key()},e.storage=function(t,e){return i(this,void 0,void 0,(function(){return o(this,(function(n){return[2,t.tezos.storage(e)]}))}))},e.send=function(t,e){return i(this,void 0,void 0,(function(){return o(this,(function(n){return e.entrypoint&&e.parameter?[2,t.tezos.transfer({amount:void 0!=e.amount?Number(e.amount):0,to:e.destination,parameter:{entrypoint:e.entrypoint,value:e.parameter}})]:[2,t.tezos.transfer({amount:void 0!=e.amount?Number(e.amount):0,to:e.destination})]}))}))},e.send_batch=function(t,e){return i(this,void 0,void 0,(function(){var n;return o(this,(function(r){return n=e.map((function(t){return t.entrypoint&&t.parameter?{amount:void 0!=t.amount?Number(t.amount):0,to:t.destination,parameter:{entrypoint:t.entrypoint,value:t.parameter}}:{amount:void 0!=t.amount?Number(t.amount):0,to:t.destination}})),[2,t.tezos.batch(n)]}))}))},e.get_transaction=function(t,e){return i(this,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:return[4,(0,c.default)(t.config.api+"/transaction/"+e)];case 1:if((n=r.sent()).ok)return[2,n.json()];throw new Error("/transaction/"+e+" failed")}}))}))},e.uint8array_to_hex=y,e.hex_to_uint8array=b,e.to_hex=g,e.pack_string=function(t){var e=g(t);return"0501"+Number(e.length/2).toString(16).padStart(8,"0")+e},e.of_hex=function(t){var e=b(t);return(new p).decode(e)},e.tezos_signed_message_prefix=function(t){return void 0===t&&(t="rarible.com"),"Tezos Signed Message: "+t+" "+(new Date).toISOString()+" "},e.sign=function(t,e,n){return i(this,void 0,void 0,(function(){var i,a;return o(this,(function(o){switch(o.label){case 0:return n=n||"message",[4,t.public_key()];case 1:if(void 0==(i=o.sent()))throw new Error("cannot get public key from provider");return[4,t.sign(e,n)];case 2:return a=o.sent(),[2,r({edpk:i},a)]}}))}))},e.tz1_prefix=new Uint8Array([6,161,159]),e.tz2_prefix=new Uint8Array([6,161,161]),e.tz3_prefix=new Uint8Array([6,161,164]),e.edpk_prefix=new Uint8Array([13,15,37,217]),e.sppk_prefix=new Uint8Array([3,254,226,86]),e.p2pk_prefix=new Uint8Array([3,178,139,127]),e.edsk_prefix=new Uint8Array([13,15,58,7]),e.spsk_prefix=new Uint8Array([17,162,224,201]),e.p2sk_prefix=new Uint8Array([16,81,238,189]),e.edsig_prefix=new Uint8Array([9,245,205,134,18]),e.spsig1_prefix=new Uint8Array([13,115,101,19,63]),e.p2sig_prefix=new Uint8Array([54,240,44,52]),e.sig_prefix=new Uint8Array([4,130,43]),e.op_prefix=new Uint8Array([5,116]),e.kt1_prefix=new Uint8Array([2,90,121]),e.b58enc=w,e.b58dec=k,e.pk_to_pkh=function(t){var n,r;switch(t.substring(0,2)){case"ed":n=e.tz1_prefix,r=e.edpk_prefix;break;case"sp":n=e.tz2_prefix,r=e.sppk_prefix;break;case"p2":n=e.tz3_prefix,r=e.p2pk_prefix;break;default:throw new Error("don't handle base58 key "+t)}var i=k(t,r);return w(_.blake2b(i,null,20),n)},e.op_to_kt1=function(t){var n=k(t,e.op_prefix),r=new Uint8Array(s(s([],a(n),!1),[0,0,0,0],!1));return w(_.blake2b(r,null,20),e.kt1_prefix)}}).call(this,n(10).Buffer)},3066:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r.apply(this,arguments)},i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.beacon_provider=void 0;var a=n(81),s=n(456),u=n(3065);e.beacon_provider=function(t,e){return i(this,void 0,void 0,(function(){var n,c,f,l,p,d,_,h,v=this;return o(this,(function(y){return e.setWalletProvider(t),n=function(t){return i(v,void 0,void 0,(function(){var n,r=this;return o(this,(function(a){switch(a.label){case 0:return[4,e.wallet.transfer(t).send()];case 1:return[2,{hash:(n=a.sent()).opHash,confirmation:function(){return i(r,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,n.confirmation()];case 1:return t.sent(),[2]}}))}))}}]}}))}))},c=function(t){return i(v,void 0,void 0,(function(){var n,r=this;return o(this,(function(a){switch(a.label){case 0:return[4,e.wallet.originate(t).send()];case 1:return[2,{hash:(n=a.sent()).opHash,contract:(0,u.op_to_kt1)(n.opHash),confirmation:function(){return i(r,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,n.confirmation()];case 1:return t.sent(),[2]}}))}))}}]}}))}))},f=function(t){return i(v,void 0,void 0,(function(){var n,a,u=this;return o(this,(function(c){switch(c.label){case 0:return n=t.map((function(t){return r(r({},t),{kind:s.OpKind.TRANSACTION})})),[4,e.wallet.batch(n).send()];case 1:return[2,{hash:(a=c.sent()).opHash,confirmation:function(){return i(u,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,a.confirmation()];case 1:return t.sent(),[2]}}))}))}}]}}))}))},l=function(e,n){return i(v,void 0,void 0,(function(){var r,i,s;return o(this,(function(o){switch(o.label){case 0:return r=a.SigningType.MICHELINE,i="",s=e,"message"==n&&(i=(0,u.tezos_signed_message_prefix)(),s=(0,u.pack_string)(i+e)),[4,t.client.requestSignPayload({signingType:r,payload:s})];case 1:return[2,{signature:o.sent().signature,prefix:i}]}}))}))},d=function(){return i(v,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return[4,t.client.getActiveAccount()];case 1:return(e=n.sent())?["edpk","sppk","p2pk"].includes(e.publicKey.substring(0,4))?[2,e.publicKey]:[2,(0,u.b58enc)((0,u.hex_to_uint8array)(e.publicKey),u.edpk_prefix)]:[2,void 0]}}))}))},_=function(t){return i(v,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,e.wallet.at(t)];case 1:return[2,n.sent().storage()]}}))}))},h=function(){return i(v,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,p()];case 1:return t=n.sent(),[2,e.tz.getBalance(t)]}}))}))},[2,{kind:"beacon",transfer:n,originate:c,batch:f,sign:l,address:p=function(){return i(v,void 0,void 0,(function(){return o(this,(function(e){return[2,t.getPKH()]}))}))},public_key:d,storage:_,balance:h,chain_id:function(){return i(v,void 0,void 0,(function(){return o(this,(function(t){return[2,e.rpc.getChainId()]}))}))},tk:e}]}))}))}}}]);
//# sourceMappingURL=3.bde1bc79.chunk.js.map